{"version":3,"sources":["app.module.js","controllers/auth/userController.js","controllers/auth/authController.js","services/api.js","directives/bootstrapCol.js","controllers/ulibierController.js","controllers/topArticlesController.js","controllers/destinationsController.js","jq.js"],"names":["app","angular","module","factory","currentUser","config","$stateProvider","$urlRouterProvider","$authProvider","$provide","loginUrl","state","url","views","templateUrl","topDes@home","controller","topUlibier@home","otherwise","run","$rootScope","$state","UlibiAuth","$on","event","toState","toParams","fromState","fromParams","console","log","name","$scope","$auth","user","logout","then","data","go","reload","vm","login","credentials","username","password","$http","urlBase","h","api","article","postfix","destinations","ulibier","forEach","section","_","getAll","param","undefined","get","this","trending","top","directive","restrict","link","s","e","a","units","vals","bootstrapCol","split","map","i","join","addClass","UlibiApi","dummyText","numOfTrendings","dataSource","getTrending","success","getTop","slice","$","material","init","document","ready","navHeight","height","window","scroll","scrollTop","css","transform","opacity"],"mappings":"AAAA,GAAIA,KAAMC,QAAQC,OAAO,SACrB,aACA,aAEJF,KAAIG,QAAQ,YAAa,WACrB,OAAQC,YAAa,MAEzBJ,IAAIK,QAAA,iBAAA,qBAAA,gBAAA,WAAO,SAASC,EAAeC,EAAmBC,EAAcC,GAChED,EAAcE,SAAS,8BACvBJ,EACKK,MAAM,QACHC,IAAK,QACLC,OACI,IACIC,YAAa,gCAEjBC,eACID,YAAe,qCACfE,WAAY,0BAEhBC,mBACIH,YAAa,gCACbE,WAAY,wBAIvBL,MAAM,SACHC,IAAK,SACLE,YAAa,+BACbE,WAAY,mBAEpBT,EAAmBW,UAAU,YAEjClB,IAAImB,KAAA,aAAA,SAAA,YAAI,SAASC,EAAYC,EAAQC,GACjCF,EAAWG,IAAI,oBAAqB,SAASC,EAAOC,EAASC,EAAUC,EAAWC,GAC9EC,QAAQC,IAAIH,EAAUI,KAAK,OAAON,EAAQM,UCnClD,IAAI/B,KAAMC,QAAQC,OAAO,QACzBF,KAAIgB,WAAW,kBAAA,SAAA,SAAA,QAAA,YAAiB,SAASgB,EAAQX,EAAQY,EAAOX,GAC5DU,EAAOE,KAAOZ,EAAUlB,YACxB4B,EAAOG,OAAS,WACZF,EAAME,SAASC,KAAK,SAASC,GACzBf,EAAUlB,YAAc,GACxBiB,EAAOiB,GAAG,IAAK,MAAQC,QAAU,SCN7C,IAAIvC,KAAMC,QAAQC,OAAO,QACzBF,KAAIgB,WAAW,kBAAA,SAAA,QAAA,SAAA,YAAiB,SAASgB,EAAOC,EAAMZ,EAAQC,GAC1D,GAAIkB,GAAKR,CACTQ,GAAGC,MAAQ,WACP,GAAIC,IACAC,SAAUH,EAAGG,SACbC,SAAUJ,EAAGI,SAEjBf,SAAQC,IAAIY,GAEZT,EAAMQ,MAAMC,GAAaN,KAAK,SAAUC,GAEpCR,QAAQC,IAAIO,GACZf,EAAUlB,YAAciC,EAAKA,KAAK,KAAQ,GAC1ChB,EAAOiB,GAAG,OAAQ,MAAQC,QAAU,SCdhD,IAAIvC,KAAIC,QAAQC,OAAO,QACvBF,KAAIG,QAAQ,YAAA,QAAW,SAAS0C,GAC5B,GAAIC,GAAU,cACVC,EAAEF,EACFG,GACAC,SACIC,QAAS,WAEbC,cACID,QAAS,QAEbE,SACIF,QAAS,WAejB,OAZAjD,SAAQoD,QAAQL,EAAK,SAASM,EAAQC,GAClCD,EAAQE,OAAO,SAASC,GAEpB,MADAA,GAAmBC,SAAVD,EAAqB,GAAG,IAAIA,EAC9BV,EAAEY,IAAIb,EAAQc,KAAKV,QAAQ,OAAOO,MAIjDT,EAAII,QAAQS,SAAS,SAASC,GAE1B,MADAA,GAAIA,GAAK,EACFf,EAAEY,IAAIb,EAAQc,KAAKV,QAAQ,iBAAiBY,IAGhDd,IC3BX,IAAIhD,KAAIC,QAAQC,OAAO,QACvBF,KAAI+D,UAAU,eAAe,WACzB,OACIC,SAAU,IACVC,KAAK,SAASC,EAAEC,EAAEC,GACd,GAAIC,IAAO,KAAK,KAAK,KAAK,MACtBC,EAAMF,EAAEG,aAAaC,MAAM,KAC1BC,IAAI,SAASN,EAAEO,GACZ,MAAO,MAAJP,EAAgB,KACZ,OAAOE,EAAMK,GAAG,IAAIP,IAE9BQ,KAAK,IACVR,GAAES,SAASN,MCZvB,IAAItE,KAAIC,QAAQC,OAAO,QACvBF,KAAIgB,WAAW,qBAAA,SAAA,WAAqB,SAASgB,EAAO6C,GACnD7C,EAAO8C,UAAU,UACjB,IAAI9B,GAAI6B,EAASzB,QACbc,EAAElC,CACNkC,GAAEa,eAAe,EACjBb,EAAEc,cACFd,EAAEe,YAAY,WACbjC,EAAIa,SAASK,EAAEa,gBACbG,QAAQ,SAAS7C,GACjBR,QAAQC,IAAIO,GACZ6B,EAAEc,WAAW3C,OCXjB,IAAIrC,KAAMC,QAAQC,OAAO,QACzBF,KAAIgB,WAAW,sBAAA,SAAA,WAAsB,SAASgB,EAAO6C,GACjD,GAAI7B,GAAI6B,EACJX,EAAElC,CACNkC,GAAEc,cAEFd,EAAEiB,OAAS,WACPnC,EAAIC,QAAQO,SACP0B,QAAQ,SAAS7C,GACd6B,EAAEc,WAAW3C,EAAK+C,MAAM,EAAE,QCT1C,IAAIpF,KAAMC,QAAQC,OAAO,QACzBF,KAAIgB,WAAW,0BAAA,SAAA,WAA0B,SAASgB,EAAO6C,GACrD,GAAI7B,GAAI6B,EACJX,EAAElC,CACNkC,GAAEc,cAEFd,EAAEiB,OAAS,WACPnC,EAAIG,aAAaK,OAAO,gBACnB0B,QAAQ,SAAS7C,GAEd6B,EAAEc,WAAW3C,QCV7BgD,EAAEC,SAASC,OACXF,EAAEG,UAAUC,MAAM,WACd,GAAIC,GAAUL,EAAE,eAAeM,QAC/BN,GAAEO,QAAQC,OAAO,SAAS1B,GACtB,GAAIL,GAAIuB,EAAEO,QAAQE,WACVJ,IAAL5B,EACCuB,EAAE,eAAeU,KACbC,UAAa,gBAAgB,GAAGlC,EAAI4B,GAAW,MAC/CO,SAAYP,EAAU5B,GAAK,KAG/BuB,EAAE,eAAeU,KACbC,UAAa,oBACbC,QAAW","file":"app.js","sourcesContent":["var app = angular.module('Ulibi',[\n    'satellizer',\n    'ui.router'\n]);\napp.factory('UlibiAuth', function(){\n    return {currentUser: ''};\n});\napp.config(function($stateProvider,$urlRouterProvider,$authProvider,$provide){\n    $authProvider.loginUrl='ulibi/api/auth/authenticate';\n    $stateProvider\n        .state('home', {\n            url: '/home',\n            views: {\n                '': {\n                    templateUrl: 'ng-templates/index-view.html'\n                },\n                'topDes@home': {\n                    'templateUrl': 'ng-templates/top-destinations.html',\n                    controller: 'DestinationsController'\n                },\n                'topUlibier@home': {\n                    templateUrl: 'ng-templates/top-ulibier.html',\n                    controller: 'UlibierController'\n                }\n            }\n        })\n        .state('login', {\n            url: '/login',\n            templateUrl: 'ng-templates/login-view.html',\n            controller: 'AuthController'\n        });\n    $urlRouterProvider.otherwise('/home');\n});\napp.run(function($rootScope, $state, UlibiAuth){\n    $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams){\n        console.log(fromState.name+' -> '+toState.name);\n    });\n});\n","var app = angular.module('Ulibi');\napp.controller('UserController',function($scope, $state, $auth, UlibiAuth){\n    $scope.user = UlibiAuth.currentUser;\n    $scope.logout = function(){\n        $auth.logout().then(function(data){\n            UlibiAuth.currentUser = '';\n            $state.go('^', null, { 'reload': true });\n        });\n    };\n});","var app = angular.module('Ulibi');\napp.controller('AuthController',function($scope,$auth,$state, UlibiAuth){\n    var vm = $scope;\n    vm.login = function () {\n        var credentials = {\n            username: vm.username,\n            password: vm.password\n        };\n        console.log(credentials);\n        // Use Satellizer's $auth service to login\n        $auth.login(credentials).then(function (data) {\n            // If login is successful, redirect to the users state\n            console.log(data);\n            UlibiAuth.currentUser = data.data['user'][0];\n            $state.go('home', null, { 'reload': true });\n        });\n    };\n});","var app=angular.module('Ulibi');\napp.factory('UlibiApi',function($http){\n    var urlBase = '/ulibi/api/';\n    var h=$http;\n    var api= {\n        article: {\n            postfix: 'article'\n        },\n        destinations: {\n            postfix: 'dest'\n        },\n        ulibier: {\n            postfix: 'ulibier'\n        }\n    };\n    angular.forEach(api, function(section,_){\n        section.getAll=function(param){\n            param = (param === undefined)?'':'?'+param;\n            return h.get(urlBase+this.postfix+'/all'+param);\n        }\n    });\n\n    api.ulibier.trending=function(top){\n        top=top||3;\n        return h.get(urlBase+this.postfix+'/trending?top='+top);\n    };\n\n    return api;\n});","var app=angular.module('Ulibi');\napp.directive('bootstrapCol',function(){\n    return {\n        restrict: 'A',\n        link:function(s,e,a){\n            var units=['xs','sm','md','lg'];\n            var vals= a.bootstrapCol.split(' ')\n                .map(function(e,i){\n                    if(e==='-') return null;\n                    return 'col-'+units[i]+'-'+e;\n                })\n                .join(' ');\n            e.addClass(vals);\n        }\n    }\n});","var app=angular.module('Ulibi');\napp.controller('UlibierController', function($scope,UlibiApi){\n\t$scope.dummyText='fuck you';\n\tvar api=UlibiApi.ulibier;\n\tvar s=$scope;\n\ts.numOfTrendings=3;\n\ts.dataSource=[];\n\ts.getTrending=function(){\n\t\tapi.trending(s.numOfTrendings)\n\t\t\t.success(function(data){\n\t\t\t\tconsole.log(data);\n\t\t\t\ts.dataSource=data;\n\t\t\t});\n\n\t};\n});","var app = angular.module('Ulibi');\napp.controller('ArticlesController', function($scope,UlibiApi){\n    var api=UlibiApi;\n    var s=$scope;\n    s.dataSource=[];\n\n    s.getTop = function(){\n        api.article.getAll()\n            .success(function(data){\n                s.dataSource=data.slice(0,3);\n            });\n    };\n});","var app = angular.module('Ulibi');\napp.controller('DestinationsController', function($scope,UlibiApi){\n    var api=UlibiApi;\n    var s=$scope;\n    s.dataSource=[];\n\n    s.getTop = function(){\n        api.destinations.getAll('withAvatar=1')\n            .success(function(data){\n                //console.log(data);\n                s.dataSource=data;\n            });\n    };\n});","$.material.init();\n$(document).ready(function(){\n    var navHeight=$('#navbar-top').height();\n    $(window).scroll(function(e) {\n        var top=$(window).scrollTop();\n        if(top<=navHeight){\n            $('#navbar-top').css({\n                'transform': 'translateY(-'+(80+top-navHeight)+'px)',\n                'opacity': (navHeight-top)/80\n            });\n        } else {\n            $('#navbar-top').css({\n                'transform': 'translateY(-80px)',\n                'opacity': '0'\n            });\n        }\n    });\n});"],"sourceRoot":"/source/"}