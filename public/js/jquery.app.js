(function(){!function(t){var e,n,a;return n=function(){function t(){}return t.prototype.stringToItem=function(t){return{tag_id:0,tag_name:t}},t.prototype.itemToString=function(t){return t.tag_name},t.prototype.compareItems=function(t,e){return t.tag_id===e.tag_id},t}(),e=function(){function t(){}return t.prototype.stringToItem=function(t){return{des_name:t}},t.prototype.itemToString=function(t){return t.des_name},t.prototype.compareItems=function(t,e){return t.des_name===e.des_name},t}(),a=function(e){var n,a;return n={uploadExisting:0,data:"",uploadUrl:"/photo",getToken:function(){return t('input[name="_token"]').val()},callback:function(){}},n=t.extend(n,e),a=n.getToken(),t.ajax(n.uploadUrl,{type:"POST",data:(n.uploadExisting?"id=":"internal_url=")+n.data+"&_token="+a}).done(function(t){"function"==typeof n.callback&&n.callback(t)})},t.Ulibi={TagItem:n,DestinationItem:e,uploadImage:a},t.fn.extend({addClassIfExist:function(e){return this.each(function(){return t(this).hasClass(e)?t(this):t(this).addClass(e),this})},removeClassIfExist:function(e){return this.each(function(){return t(this).hasClass(e)?t(this).removeClass(e):t(this),this})},UlibiTagEditor:function(e){var n,a;return a={debug:!1,wrapClass:"",tags:[],itemManager:{}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){return t(this).width(t(this).parent().innerWidth()-24),t(this).textext({plugins:"tags autocomplete",html:{wrap:'<div class="text-core '+a.wrapClass+'"><div class="text-wrap"></div></div>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="custom-edit"/><a class="text-remove"><i class="fa fa-times"></i></a></div></div>'},ext:{itemManager:a.itemManager}}).bind("getSuggestions",function(e){return function(n,i){var r,o;return o=t(n.target).textext()[0],r=(i?i.query:"")||"",t(e).trigger("setSuggestions",{result:o.itemManager().filter(a.tags,r)})}}(this)),n("UlibiTagEditor worked!")})},UlibiPhotoDragDrop:function(e){var n,a;return a={debug:!1,html:{isDraggingClass:"is-dragging",isDropped:"is-dropped"},callback:function(){}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){"undefined"==typeof window.FileReader&&alert("Trình duyệt của bạn không hỗ trợ kéo & thả File :)"),this.ondragover=function(){return!1},this.ondragend=function(){return!1},this.ondragenter=function(){return t(this).addClassIfExist(a.html.isDraggingClass),!1},this.ondragleave=function(){return t(this).removeClassIfExist(a.html.isDraggingClass),!1},this.ondrop=function(e){return function(i){var r,o;return i.preventDefault(),t(e).hasClass(a.html.isDropped)||t(e).addClass(a.html.isDropped),o=new FileReader,r=i.dataTransfer.files[0],o.onload=function(i){n("[UlibiPhotoDragDrop] file content length: "+i.target.result.length),t.Ulibi.uploadImage({uploadExisting:!1,data:i.target.result,callback:function(n){"succeeded"===n.status&&(t(e).hasClass("has-image")||t(e).addClass("has-image"),t(e).css("background-image","url("+i.target.result+")"),a.callback(n))}})},o.readAsDataURL(r),!1}}(this),n("UlibiPhotoDragDrop worked!")})},DeleteBlogArticle:function(e){var n,a;return a={debug:!1,csrf_token:"",alert:{title:"Are you sure?",text:"Bạn có chắc chắn muốn xoá bài viết <strong>{title}</strong> không?"},callback:function(){}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){t(this).click(function(e){var n,i;n=t(e.target).attr("data-href"),i=t(e.target).attr("data-title"),swal({title:a.alert.title,text:a.alert.text.replace("{title}",i),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Có, xoá nó đi :)",cancelButtonText:"Không :(",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0,html:!0},function(){t.ajax({url:n,type:"DELETE",data:{_token:a.csrf_token},success:function(){return swal({title:"Success",text:"",type:"success"},a.callback)},error:function(){return swal({title:"Failed",text:"",type:"error"},a.callback)}})})}),n("DeleteBlogArticle plugin worked!")})},UlibiImageSelector:function(e){var n,a;return a={debug:!1,html:{parentId:"",childrenSelector:""},ajax:{url:"",method:"POST",dataTemplate:"key={0}"},callback:function(){return location.reload(!0)}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){var e,i,r,o,s,l,c;e="btn-disabled",s=t(this).attr("href"),l=t(s).find("[data-role='change']"),r="data-selected",c=function(i){return function(i){var o,s,c;return i.preventDefault(),t(l).hasClass(e)?void 0:(s=t(l).attr(r),o=a.ajax.dataTemplate.replace("{0}",s),n(s),n(o),c=!1,c||t.ajax({url:a.ajax.url,type:a.ajax.method,data:o,success:function(t){"OK"===t.status?(n("Change photo success, id="+s),a.callback()):n("Error expected, message: "+t.message)}}),!1)}}(this),o=function(n){return function(){t(l).addClassIfExist(e),t(s).find(a.html.parentId).selectable({filter:a.html.childrenSelector,selected:function(n,a){t(l).removeClassIfExist(e).attr(r,t(a.selected).attr("data-photoid")).on("click",c)}})}}(this),i=function(e){return function(){return t(s).find(a.html.parentId).destroy(),t(l).off()}}(this),t(this).magnificPopup({type:"inline",preloader:!1,mainClass:"mfp-dialog",callbacks:{beforeOpen:function(){o()},close:function(){i()}}}),n("UlibiImageSelector plugin worked!"),n("Submit Button: "+l)})}})}(jQuery)}).call(this);
//# sourceMappingURL=jquery.app.js.map
