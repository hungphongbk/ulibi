(function(){!function(t){var e,n,a,o;return n=function(){function t(){}return t.prototype.stringToItem=function(t){return{tag_id:0,tag_name:t}},t.prototype.itemToString=function(t){return t.tag_name},t.prototype.compareItems=function(t,e){return t.tag_id===e.tag_id},t}(),e=function(){function t(){}return t.prototype.stringToItem=function(t){return{des_name:t}},t.prototype.itemToString=function(t){return t.des_name},t.prototype.compareItems=function(t,e){return t.des_name===e.des_name},t}(),o=function(e){var n,a;return n={uploadExisting:0,data:"",uploadUrl:"/photo",getToken:function(){return t('input[name="_token"]').val()},callback:function(){}},n=t.extend(n,e),a=n.getToken(),t.ajax(n.uploadUrl,{type:"POST",data:(n.uploadExisting?"id=":"internal_url=")+n.data+"&_token="+a}).done(function(t){"function"==typeof n.callback&&n.callback(t)})},a=function(t){var e,n,a,o,i,r;for(i=t.split("&"),r={},e=0,a=i.length;a>e;e++)o=i[e],n=o.split("="),r[n[0]]=n[1];return r},t.Ulibi={TagItem:n,DestinationItem:e,uploadImage:o,parseQueryString:a},t.fn.extend({addClassIfExist:function(e){return this.each(function(){return t(this).hasClass(e)?t(this):t(this).addClass(e),this})},removeClassIfExist:function(e){return this.each(function(){return t(this).hasClass(e)?t(this).removeClass(e):t(this),this})},UlibiTagEditor:function(e){var n,a;return a={debug:!1,wrapClass:"",tags:[],itemManager:{}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){return t(this).width(t(this).parent().innerWidth()-24),t(this).textext({plugins:"tags autocomplete",html:{wrap:'<div class="text-core '+a.wrapClass+'"><div class="text-wrap"></div></div>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="custom-edit"/><a class="text-remove"><i class="fa fa-times"></i></a></div></div>'},ext:{itemManager:a.itemManager}}).bind("getSuggestions",function(e){return function(n,o){var i,r;return r=t(n.target).textext()[0],i=(o?o.query:"")||"",t(e).trigger("setSuggestions",{result:r.itemManager().filter(a.tags,i)})}}(this)),n("UlibiTagEditor worked!")})},UlibiPhotoDragDrop:function(e){var n,a;return a={debug:!1,html:{isDraggingClass:"is-dragging",isDropped:"is-dropped"},getToken:function(){return t('input[name="_token"]').val()},callback:function(){}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){"undefined"==typeof window.FileReader&&alert("Trình duyệt của bạn không hỗ trợ kéo & thả File :)"),this.ondragover=function(){return!1},this.ondragend=function(){return!1},this.ondragenter=function(e){return e.stopPropagation(),e.preventDefault(),t(this).addClassIfExist(a.html.isDraggingClass),!1},this.ondragleave=function(){return t(this).removeClassIfExist(a.html.isDraggingClass),!1},this.ondrop=function(e){return function(o){var i,r;return o.stopPropagation(),o.preventDefault(),t(e).hasClass(a.html.isDropped)||t(e).addClass(a.html.isDropped),r=new FileReader,i=o.dataTransfer.files[0],r.onload=function(o){n("[UlibiPhotoDragDrop] file content length: "+o.target.result.length),t.Ulibi.uploadImage({uploadExisting:!1,data:o.target.result,getToken:a.getToken,callback:function(n){"succeeded"===n.status&&(t(e).hasClass("has-image")||t(e).addClass("has-image"),t(e).css("background-image","url("+o.target.result+")"),a.callback(n))}})},r.readAsDataURL(i),!1}}(this),n("UlibiPhotoDragDrop worked!")})},DeleteBlogArticle:function(e){var n,a;return a={debug:!1,csrf_token:"",alert:{title:"Are you sure?",text:"Bạn có chắc chắn muốn xoá bài viết <strong>{title}</strong> không?"},callback:function(){}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){t(this).click(function(e){var n,o;n=t(e.target).attr("data-href"),o=t(e.target).attr("data-title"),swal({title:a.alert.title,text:a.alert.text.replace("{title}",o),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Có, xoá nó đi :)",cancelButtonText:"Không :(",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0,html:!0},function(){t.ajax({url:n,type:"DELETE",data:{_token:a.csrf_token},success:function(){return swal({title:"Success",text:"",type:"success"},a.callback)},error:function(){return swal({title:"Failed",text:"",type:"error"},a.callback)}})})}),n("DeleteBlogArticle plugin worked!")})},UlibiImageSelector:function(e){var n,a;return a={debug:!1,html:{uploaderId:"",parentId:"",childrenSelector:""},ajax:{url:"",method:"POST",dataTemplate:"key={0}"},callback:function(){return location.reload(!0)}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){var e,o,i,r,l,s,c,u,d,f;o="btn-disabled",c=t(this).attr("href"),u=t(c).find("[data-role='change']"),f=t(a.html.uploaderId),l="data-selected",e=JSON.parse(atob(a.ajax)),i=function(o){return function(o){var i,r;i=e.dataTemplate.replace("{0}",o),n(o),r=!1,r||t.ajax({url:e.url,type:e.method,data:i,success:function(t){"OK"===t.status?(n("Change photo success, id="+o),a.callback()):n("Error expected, message: "+t.message)}})}}(this),d=function(e){return function(e){var n;return e.preventDefault(),t(u).hasClass(o)?void 0:(n=t(u).attr(l),i(n),!1)}}(this),s=function(n){return function(){t(u).addClassIfExist(o),t(c).find(a.html.parentId).selectable({filter:a.html.childrenSelector,selected:function(e,n){t(u).removeClassIfExist(o).attr(l,t(n.selected).attr("data-photoid")).on("click",d)}}),t(f).UlibiPhotoDragDrop({debug:!0,getToken:function(){return t.Ulibi.parseQueryString(e.dataTemplate)._token},callback:function(t){i(t.id)}})}}(this),r=function(e){return function(){return t(c).find(a.html.parentId).selectable("destroy"),t(u).off()}}(this),t(this).magnificPopup({type:"inline",preloader:!1,mainClass:"mfp-dialog",callbacks:{beforeOpen:function(){s()},close:function(){r()}}}),n("UlibiImageSelector plugin worked!")})},UlibiProfileInformationEditor:function(e){var n,a;return a={debug:!1,html:{dialogSelector:"",formSelector:""},ajax:{url:"",method:"POST",dataTemplate:"key={0}"},callback:function(){return location.reload(!0)}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){t(this).magnificPopup({type:"inline",preloader:!1,mainClass:"mfp-dialog",callbacks:{open:function(e){return function(){var n;n=t(e).attr("data-tab"),t(a.html.dialogSelector+' a[href="#tab-'+n+'"]').tab("show")}}(this),close:function(e){return function(){t(a.html.dialogSelector+' a[href="#tab-0"]').tab("show")}}(this)}}),n("UlibiProfileInformationEditor worked!")})}})}(jQuery)}).call(this);
//# sourceMappingURL=jquery.app.js.map
