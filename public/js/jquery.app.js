(function(){!function(t){var e,n,a;return n=function(){function t(){}return t.prototype.stringToItem=function(t){return{tag_id:0,tag_name:t}},t.prototype.itemToString=function(t){return t.tag_name},t.prototype.compareItems=function(t,e){return t.tag_id===e.tag_id},t}(),e=function(){function t(){}return t.prototype.stringToItem=function(t){return{des_name:t}},t.prototype.itemToString=function(t){return t.des_name},t.prototype.compareItems=function(t,e){return t.des_name===e.des_name},t}(),a=function(e){var n,a;return n={uploadExisting:0,data:"",uploadUrl:"/photo",getToken:function(){return t('input[name="_token"]').val()},callback:function(){}},n=t.extend(n,e),a=n.getToken(),t.ajax(n.uploadUrl,{type:"POST",data:(n.uploadExisting?"id=":"internal_url=")+n.data+"&_token="+a}).done(function(t){"function"==typeof n.callback&&n.callback(t)})},t.Ulibi={TagItem:n,DestinationItem:e,uploadImage:a},t.fn.extend({UlibiTagEditor:function(e){var n,a;return a={debug:!1,wrapClass:"",tags:[],itemManager:{}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){return t(this).width(t(this).parent().innerWidth()-24),t(this).textext({plugins:"tags autocomplete",html:{wrap:'<div class="text-core '+a.wrapClass+'"><div class="text-wrap"></div></div>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="custom-edit"/><a class="text-remove"><i class="fa fa-times"></i></a></div></div>'},ext:{itemManager:a.itemManager}}).bind("getSuggestions",function(e){return function(n,i){var r,o;return o=t(n.target).textext()[0],r=(i?i.query:"")||"",t(e).trigger("setSuggestions",{result:o.itemManager().filter(a.tags,r)})}}(this)),n("UlibiTagEditor worked!")})},UlibiPhotoDragDrop:function(e){var n,a;return a={debug:!1,html:{isDraggingClass:"is-dragging",isDropped:"is-dropped"},callback:function(){}},a=t.extend(a,e),n=function(t){a.debug&&"undefined"!=typeof console&&null!==console&&console.log(t)},this.each(function(){"undefined"==typeof window.FileReader&&alert("Trình duyệt của bạn không hỗ trợ kéo & thả File :)"),this.ondragover=function(){return!1},this.ondragend=function(){return!1},this.ondragenter=function(){return t(this).hasClass(a.html.isDraggingClass)||t(this).addClass(a.html.isDraggingClass),!1},this.ondragleave=function(){return t(this).hasClass(a.html.isDraggingClass)&&t(this).removeClass(a.html.isDraggingClass),!1},this.ondrop=function(e){return function(i){var r,o;return i.preventDefault(),t(e).hasClass(a.html.isDropped)||t(e).addClass(a.html.isDropped),o=new FileReader,r=i.dataTransfer.files[0],o.onload=function(i){n("[UlibiPhotoDragDrop] file content length: "+i.target.result.length),t.Ulibi.uploadImage({uploadExisting:!1,data:i.target.result,callback:function(n){"succeeded"===n.status&&(t(e).hasClass("has-image")||t(e).addClass("has-image"),t(e).css("background-image","url("+i.target.result+")"),a.callback(n))}})},o.readAsDataURL(r),!1}}(this),n("UlibiPhotoDragDrop worked!")})}})}(jQuery)}).call(this);
//# sourceMappingURL=jquery.app.js.map
