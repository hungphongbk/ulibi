var app=angular.module("Ulibi",["satellizer","ui.router"]);app.factory("UlibiAuth",function(){return{currentUser:""}}),app.config(["$stateProvider","$urlRouterProvider","$authProvider","$provide",function(t,o,e,r){e.loginUrl="ulibi/api/auth/authenticate",t.state("home",{url:"/home",views:{"":{templateUrl:"ng-templates/index-view.html"},"topDes@home":{templateUrl:"ng-templates/top-destinations.html",controller:"DestinationsController"},"topUlibier@home":{templateUrl:"ng-templates/top-ulibier.html",controller:"UlibierController"}}}).state("login",{url:"/login",templateUrl:"ng-templates/login-view.html",controller:"AuthController"}),o.otherwise("/home")}]),app.run(["$rootScope","$state","UlibiAuth",function(t,o,e){t.$on("$stateChangeStart",function(t,o,e,r,n){console.log(r.name+" -> "+o.name)})}]);var app=angular.module("Ulibi");app.controller("UserController",["$scope","$state","$auth","UlibiAuth",function(t,o,e,r){t.user=r.currentUser,t.logout=function(){e.logout().then(function(t){r.currentUser="",o.go("^",null,{reload:!0})})}}]);var app=angular.module("Ulibi");app.controller("AuthController",["$scope","$auth","$state","UlibiAuth",function(t,o,e,r){var n=t;n.login=function(){var t={username:n.username,password:n.password};console.log(t),o.login(t).then(function(t){console.log(t),r.currentUser=t.data.user[0],e.go("home",null,{reload:!0})})}}]);var app=angular.module("Ulibi");app.directive("bootstrapCol",function(){return{restrict:"A",link:function(t,o,e){var r=["xs","sm","md","lg"],n=e.bootstrapCol.split(" ").map(function(t,o){return"-"===t?null:"col-"+r[o]+"-"+t}).join(" ");o.addClass(n)}}});var app=angular.module("Ulibi");app.controller("UlibierController",["$scope","UlibiApi",function(t,o){t.dummyText="fuck you";var e=o.ulibier,r=t;r.numOfTrendings=2,r.dataSource=[],r.getTrending=function(){e.trending(r.numOfTrendings).success(function(t){console.log(t),r.dataSource=t})}}]);var app=angular.module("Ulibi");app.controller("ArticlesController",["$scope","UlibiApi",function(t,o){var e=o,r=t;r.dataSource=[],r.getTop=function(){e.article.getAll().success(function(t){r.dataSource=t.slice(0,3)})}}]);var app=angular.module("Ulibi");app.controller("DestinationsController",["$scope","UlibiApi",function(t,o){var e=o,r=t;r.dataSource=[],r.getTop=function(){e.destinations.getAll("withAvatar=1").success(function(t){r.dataSource=t})}}]);var app=angular.module("Ulibi");app.factory("UlibiApi",["$http",function(t){var o="/ulibi/api/",e=t,r={article:{postfix:"article"},destinations:{postfix:"dest"},ulibier:{postfix:"ulibier"}};return angular.forEach(r,function(t,r){t.getAll=function(t){return t=void 0===t?"":"?"+t,e.get(o+this.postfix+"/all"+t)}}),r.ulibier.trending=function(t){return t=t||3,e.get(o+this.postfix+"/trending?top="+t)},r}]),$.material.init(),$(document).ready(function(){var t=$("#navbar-top").height();$(window).scroll(function(o){var e=$(window).scrollTop();t>=e?$("#navbar-top").css({transform:"translateY(-"+(80+e-t)+"px)",opacity:(t-e)/80}):$("#navbar-top").css({transform:"translateY(-80px)",opacity:"0"})})});
//# sourceMappingURL=app.js.map