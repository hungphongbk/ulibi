<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="Scotch">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

    <title>Ulibi - Home</title>

    <link rel="stylesheet" type="text/css" href="css/external.css">
    <style type="text/css">body,html{height:100%;overflow:scroll}.index-page#main{height:100%;background:url(images/home/intro.png);background-size:cover;text-align:center}.index-page#top-articles .item{height:25pc;background-color:#98fb98}</style>
    <script src="js/external.js"></script>
    <script>var app=angular.module("Ulibi",["satellizer","ui.router","ngMaterial"]);app.factory("UlibiAuth",function(){return{currentUser:""}}),app.config(["$stateProvider","$urlRouterProvider","$authProvider","$provide",function(t,e,r,l){r.loginUrl="ulibi/api/auth/authenticate",t.state("home",{url:"/home",templateUrl:"ng-templates/index-view.html",controller:["$state",function(t){t.go("home.trending")}]}).state("home.trending",{url:"/top",views:{topArticles:{templateUrl:"ng-templates/top-articles.html",controller:"ArticlesController"}}}).state("login",{url:"/login",templateUrl:"ng-templates/login-view.html",controller:"AuthController"}),e.otherwise("/home")}]),app.run(["$rootScope","$state","UlibiAuth",function(t,e,r){t.$on("$stateChangeStart",function(t,e,r,l,o){console.log(l.name+" -> "+e.name)})}]);var app=angular.module("Ulibi");app.controller("UserController",["$scope","$state","$auth","UlibiAuth",function(t,e,r,l){t.user=l.currentUser,t.logout=function(){r.logout().then(function(t){l.currentUser="",e.go("^",null,{reload:!0})})}}]);var app=angular.module("Ulibi");app.controller("AuthController",["$scope","$auth","$state","UlibiAuth",function(t,e,r,l){var o=t;o.login=function(){var t={username:o.username,password:o.password};console.log(t),e.login(t).then(function(t){console.log(t),l.currentUser=t.data.user[0],r.go("home",null,{reload:!0})})}}]);var app=angular.module("Ulibi");app.directive("bootstrapCol",function(){return{restrict:"A",link:function(t,e,r){var l=["xs","sm","md","lg"],o=r.bootstrapCol.split(" ").map(function(t,e){return"-"===t?null:"col-"+l[e]+"-"+t}).join(" ");e.addClass(o)}}});var app=angular.module("Ulibi");app.controller("ArticlesController",["$scope","UlibiApi",function(t,e){var r=e,l=t;l.dataSource=[],l.getTop=function(){r.article.getAll().success(function(t){l.dataSource=t.slice(0,3)})}}]);var app=angular.module("Ulibi");app.factory("UlibiApi",["$http",function(t){var e="/ulibi/api/",r=t,l={article:{postfix:"article"}};return l.article.getAll=function(){return r.get(e+this.postfix+"/all")},l}]);</script>
    <script>
        $('.dropdown-toggle').dropdown();
    </script>
</head>
<body ng-app="Ulibi">
    <div layout="column">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <span>Ulibi</span>
                <span flex></span>
                <md-button ng-href="#/login">
                    Đăng nhập
                </md-button>
            </div>
        </md-toolbar>
        <md-content ui-view>
        </md-content>
    </div>
</body>
</html>